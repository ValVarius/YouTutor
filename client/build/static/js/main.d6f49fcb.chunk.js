(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{32:function(e,t,a){e.exports=a(68)},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),c=a(30),s=a.n(c),r=a(5),i=a(1),o=a(2);a(37),a(38);function m(){return n.a.createElement("div",null,n.a.createElement("section",{className:"hero is-primary is-bold"},n.a.createElement("div",{className:"hero-body"},n.a.createElement("div",{className:"container"},n.a.createElement("h1",{className:"title"},"Welcome to our Tutor App"),n.a.createElement("h2",{className:"subtitle"},"Let's get some schooling done")))))}function u(){return n.a.createElement("div",{className:"HomePage"},n.a.createElement(m,null))}var d=a(11),E=a(6),h=(a(39),a(4)),b=a.n(h),f="http://localhost:8080",p={login:function(e){return b.a.post("".concat(f,"/login"),e,{withCredentials:!0})},createUser:function(e){return b.a.post("".concat(f,"/userSignup"),e,{withCredentials:!0})},getUserbyId:function(e){return b.a.get("".concat(f,"/api/players/").concat(e))},createStudentPost:function(e){return b.a.post("".concat(f,"/posts"),e,{withCredentials:!0})},createTeacherPost:function(e){return b.a.post("".concat(f,"/signup/teacher"),e,{withCredentials:!0})},deleteTeacherCurrentPost:function(e){return b.a.delete("".concat(f,"/posts/deleteTeacher/currentuser"),{withCredentials:!0})},deleteCurrentPost:function(e){return b.a.delete("".concat(f,"/posts/delete/currentuser"),{withCredentials:!0})},deleteStudentSkills:function(){return b.a.delete("".concat(f,"/api/userskillsdelete"),{withCredentials:!0})},saveStudentSkills:function(e){return b.a.post("".concat(f,"/api/userskills"),e,{withCredentials:!0})},deleteTeacherSkills:function(){return b.a.delete("".concat(f,"/api/techerskillsdelete"),{withCredentials:!0})},saveTeacherSkills:function(e){return b.a.post("".concat(f,"/skillsteacher"),e,{withCredentials:!0})},getTeacherSkills:function(e){return b.a.get("".concat(f,"/getTeacherSkills/").concat(e),{withCredentials:!0})},getSkillResult:function(e){return b.a.get("".concat(f,"/api/searchresult"),e,{withCredentials:!0})},readSessions:function(){return b.a.get("".concat(f,"/readsessions"),{withCredentials:!0})},logout:function(){return b.a.get("".concat(f,"/logout"),{withCredentials:!0})},getTeacherMatch:function(e){return b.a.post("".concat(f,"/api/matchteacherskills"),e)},getStudentMatch:function(e){return b.a.post("".concat(f,"/api/matchstudentskills"),e)}};function v(e){var t=window.cloudinary.createUploadWidget({cloudName:"amzap",uploadPreset:"ylmdvnpt"},(function(t,a){var l;"success"===(l=a).event&&(console.log(l.info.secure_url),e.getPicture(l.info.secure_url))}));return n.a.createElement("div",{id:"photo-form-container"},n.a.createElement("button",{onClick:function(){return function(e){e.open()}(t)}},"Upload Photo"))}function N(e){var t=Object(l.useState)({first_name:"",last_name:"",email:"",password:"",picture:""}),a=Object(r.a)(t,2),c=a[0],s=a[1],m=Object(o.f)(),u=function(e){var t=e.target,a=t.name,l=t.value;s(Object(E.a)(Object(E.a)({},c),{},Object(d.a)({},a,l)))};return n.a.createElement("div",{className:"UserForm"},n.a.createElement("label",{className:"label is-large"},"Sign Up:"),n.a.createElement("div",{className:"field"},n.a.createElement("label",{className:"label"},"First Name"),n.a.createElement("div",{className:"control"},n.a.createElement("input",{className:"input",type:"text",onChange:u,name:"first_name",value:c.first_name,placeholder:"John"}))),n.a.createElement("div",{className:"field"},n.a.createElement("label",{className:"label"},"Last Name"),n.a.createElement("div",{className:"control"},n.a.createElement("input",{className:"input",type:"text",onChange:u,name:"last_name",value:c.last_name,placeholder:"Smith"}))),n.a.createElement("div",{className:"field"},n.a.createElement("label",{className:"label"},"Email"),n.a.createElement("div",{className:"control"},n.a.createElement("input",{className:"input",type:"text",onChange:u,name:"email",value:c.email,placeholder:"Email"}))),n.a.createElement("div",{className:"field"},n.a.createElement("label",{className:"label"},"Password"),n.a.createElement("div",{className:"control"},n.a.createElement("input",{type:"password",className:"input",onChange:u,name:"password",value:c.password,placeholder:"Password"}))),n.a.createElement(v,{getPicture:function(e){var t=e;s(Object(E.a)(Object(E.a)({},c),{},{picture:t}))}}),n.a.createElement("div",{className:"field is-grouped"},n.a.createElement("div",{className:"control"},n.a.createElement("button",{className:"button is-link",onClick:function(t){t.preventDefault(),console.log(c),p.createUser(c).then((function(t){console.log(t.data),t.data?(e.submitHandler(t.data),s({first_name:"",last_name:"",email:"",password:"",picture:""}),m.push("/profile")):(e.submitHandler(!1),m.push("/signup"))}))}}," Submit")),n.a.createElement("div",{className:"control"},n.a.createElement("button",{className:"button is-link is-light"},n.a.createElement(i.b,{to:"/"},"Cancel")))))}a(62);function g(e){return n.a.createElement("div",null,n.a.createElement("div",{className:"box id-box"},n.a.createElement("div",{className:"card-image"},n.a.createElement("figure",{className:"image is-4by3"},n.a.createElement("img",{src:e.userdata.picture,alt:"Placeholder"}))),n.a.createElement("div",{className:"card-content"},n.a.createElement("div",{className:"media"},n.a.createElement("div",null,n.a.createElement("p",{className:"title is-5 center-content"},"Welcome ",e.userdata.first_name),n.a.createElement("p",{className:"title is-7 left-content"}," We have ",n.a.createElement("span",{className:"student-color"},e.studentsearch?e.studentsearch.length:"some")," students available for you and ",n.a.createElement("span",{className:"teacher-color"},e.teachersearch?e.teachersearch.length:"some")," teachers."))))))}a(63);function S(e){var t=e.currentUser;return console.log(e),n.a.createElement("div",{className:"ProfilePage center-element"},n.a.createElement("div",{className:"columns "},n.a.createElement("div",{className:"column is-2"},n.a.createElement(g,{userdata:t,studentsearch:e.studentsearch,teachersearch:e.teachersearch})),n.a.createElement("div",{className:"column is-4 center-element"},n.a.createElement("button",{className:"button is-link is-outlined tutor-button"},n.a.createElement(i.b,{to:"/newTeacherPost"},"LOOK FOR A STUDENT")),n.a.createElement("ul",{className:"center-element"},e.studentsearch?e.studentsearch.map((function(e){return n.a.createElement("li",{key:e.studentResults[0].User.id},n.a.createElement("div",{className:"box studentbox"},n.a.createElement("article",{className:"media"},n.a.createElement("div",{className:"media-left"},n.a.createElement("figure",{className:"image is-64x64"},n.a.createElement("img",{src:e.studentResults?e.studentResults[0].User.picture:"https://bulma.io/images/placeholders/128x128.png",alt:"user"}))),n.a.createElement("div",{className:"media-content"},n.a.createElement("div",{className:"content"},n.a.createElement("p",null,n.a.createElement("strong",null,e.studentResults?e.studentResults[0].User.first_name+" "+e.studentResults[0].User.last_name:"")," ",n.a.createElement("small",null," ","asks for help on ",e.postDate),n.a.createElement("br",null),n.a.createElement("strong",null,"This student is looking for a tutor."," "),"You have"," ",n.a.createElement("strong",null,Math.floor(e.percentage),"%")," ","of the skills he is looking for.",n.a.createElement("br",null),"you can connect him by Email:",n.a.createElement("br",null)," ",e.studentResults?e.studentResults[0].User.email:""))))))})):""),n.a.createElement("div",{className:"palceholder"})),n.a.createElement("div",{className:"column is-4"},n.a.createElement("button",{className:"button is-danger is-outlined tutor-button"},n.a.createElement(i.b,{to:"/newpost"},"LOOK FOR TEACHER")),n.a.createElement("ul",null,e.teachersearch?e.teachersearch.map((function(e){return n.a.createElement("li",{key:e.teacherResults[0].User.id},n.a.createElement("div",{className:"box teacherbox"},n.a.createElement("article",{className:"media"},n.a.createElement("div",{className:"media-left"},n.a.createElement("figure",{className:"image is-64x64"},n.a.createElement("img",{src:e.teacherResults?e.teacherResults[0].User.picture:"https://bulma.io/images/placeholders/128x128.png",alt:"teacher"}))),n.a.createElement("div",{className:"media-content"},n.a.createElement("div",{className:"content"},n.a.createElement("p",null,n.a.createElement("strong",null,e.teacherResults?e.teacherResults[0].User.first_name+" "+e.teacherResults[0].User.last_name:"")," ",n.a.createElement("small",null,"can help you!"),n.a.createElement("br",null),e.teacherResults[0].User.first_name," has"," ",n.a.createElement("strong",null,Math.floor(e.percentage),"%")," ","of the skill you are looking for!",n.a.createElement("br",null),"you can connect with ",e.teacherResults[0].User.first_name," by Email:",n.a.createElement("br",null)," ",e.teacherResults?e.teacherResults[0].User.email:""))))))})):"")),n.a.createElement("div",{className:"column is-2"},t.Teacher?n.a.createElement("div",{className:"box teacher-box"},n.a.createElement("article",{className:"media"},n.a.createElement("div",{className:"media-content"},n.a.createElement("div",{className:"content center-element"},n.a.createElement("br",null),n.a.createElement("div",null,n.a.createElement("p",{className:"title is-4 "},"Your Teacher Post"),n.a.createElement("p",{className:"title is-6 left-element"},"ABOUT:"," ",n.a.createElement("span",{className:"is-4"},t.Teacher.about)),n.a.createElement("p",{className:"title is-6 left-element"},"SKILLS:"),n.a.createElement("div",{className:"select is-multiple"},n.a.createElement("select",{multiple:!0,size:"4"},t.TeacherSkills.map((function(e){return n.a.createElement("option",{value:e.skill,key:e.skill}," ",e.skill)}))))))))):"",t.Studentpost?n.a.createElement("div",{className:"box student-post"},n.a.createElement("article",{className:"media"},n.a.createElement("div",{className:"media-content"},n.a.createElement("div",{className:"content center-element"},n.a.createElement("br",null),n.a.createElement("div",null,n.a.createElement("p",{className:"title is-4 "},"Your Student Post"),n.a.createElement("p",{className:"title is-6 left-element"},"ABOUT:"," ",n.a.createElement("span",{className:"is-4"},t.Studentpost.about)),n.a.createElement("p",{className:"title is-6 left-element"},"SKILLS:"),n.a.createElement("div",{className:"select is-multiple"},n.a.createElement("select",{multiple:!0,size:"4"},t.StudentSkills.map((function(e){return n.a.createElement("option",{value:e.skill,key:e.skill}," ",e.skill)}))))))))):"")))}function k(e){var t=Object(l.useState)({email:"",password:""}),a=Object(r.a)(t,2),c=a[0],s=a[1],m=Object(o.f)(),u=function(e){var t=e.target,a=t.name,l=t.value;s(Object(E.a)(Object(E.a)({},c),{},Object(d.a)({},a,l)))};return n.a.createElement("div",{className:"UserForm"},n.a.createElement("label",{className:"label is-large"},"Credentials:"),n.a.createElement("div",{className:"field"},n.a.createElement("label",{className:"label"},"Email"),n.a.createElement("div",{className:"control"},n.a.createElement("input",{className:"input",type:"text",placeholder:"email",name:"email",onChange:u,value:c.email}))),n.a.createElement("div",{className:"field"},n.a.createElement("label",{className:"label"},"Password"),n.a.createElement("div",{className:"control"},n.a.createElement("input",{type:"password",className:"input",placeholder:"password",name:"password",onChange:u,value:c.password}))),n.a.createElement("div",{className:"field is-grouped"},n.a.createElement("div",{className:"control"},n.a.createElement("button",{className:"button is-link",onClick:function(t){t.preventDefault(),p.login(c).then((function(t){if(t.data.id){if(e.submitHandler(t.data),t.data.TeacherSkills){console.log("THIS IS WHAT YOU GET FROM THE API: ",t);var a=[];t.data.TeacherSkills.forEach((function(e){a.push(e.skill)})),p.getStudentMatch({skills:a.join(",")}).then((function(t){e.passStudents(t.data)})).catch((function(e){console.log(e)}))}if(t.data.StudentSkills){var l=[];t.data.StudentSkills.forEach((function(e){l.push(e.skill)})),p.getTeacherMatch({skills:l.join(",")}).then((function(t){e.passTeachers(t.data)})).catch((function(e){console.log(e)}))}m.push("/profile")}else e.submitHandler(!1),m.push("/login")}))}},"Submit")),n.a.createElement("div",{className:"control"},n.a.createElement("button",{className:"button is-link is-light"},n.a.createElement(i.b,{to:"/"},"Cancel")))))}a(64);var O=a(13);a(65);var j=function(e){var t=Object(l.useState)([]),a=Object(r.a)(t,2),c=(a[0],a[1]),s=Object(l.useState)([]),i=Object(r.a)(s,2),o=i[0],m=i[1],u=Object(l.useState)([]),d=Object(r.a)(u,2),E=d[0],h=d[1],b=Object(l.useState)(""),f=Object(r.a)(b,2),v=f[0],N=f[1];Object(l.useEffect)((function(){p.getSkillResult().then((function(e){var t=e.data.map((function(e){return e.skill}));c(t),m(t)})).catch((function(e){console.log(e)}))}),[]),Object(l.useEffect)((function(){var e=Object(O.a)(o).filter((function(e){return!!e.toLowerCase().includes(v)}));m(e)}),[v]);var g=function(t){t.preventDefault(),h([].concat(Object(O.a)(E),[t.target.value]));for(var a=0;a<o.length;a++)o[a]===t.target.value&&o.splice(a,1);e.getSkills([].concat(Object(O.a)(E),[t.target.value]))},S=function(t){t.preventDefault(),m([].concat(Object(O.a)(o),[t.target.value]));for(var a=0;a<E.length;a++)E[a]===t.target.value&&E.splice(a,1);e.getSkills.apply(e,Object(O.a)(E).concat([t.target.value]))};return n.a.createElement("div",{className:"container1"},n.a.createElement("div",{className:"filter-card"},n.a.createElement("div",{className:"find-card-header"},n.a.createElement("span",{className:"navbar-brand find-card-header"},n.a.createElement("h1",null,"Find Skills")),n.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},n.a.createElement("form",{className:"form-inline my-2 my-lg-0"},n.a.createElement("input",{onChange:function(e){e.preventDefault(),N(e.target.value.toLowerCase())},className:"form-control mr-sm-2",type:"search",placeholder:"Filter Skills here","aria-label":"Search"})))),n.a.createElement("div",{className:"card-content border"},n.a.createElement("div",{id:"skill-holder",className:"row"},o.map((function(e){return n.a.createElement("div",{className:"row",key:e},n.a.createElement("button",{onClick:g,className:"button is-rounded is-small ",value:e},e," "))})))),n.a.createElement("div",{className:"content border"},E.map((function(e){return n.a.createElement("div",{className:"row",key:e},n.a.createElement("button",{onClick:S,className:"button is-primary is-rounded is-small",value:e},e))})))))};function T(e){var t=Object(l.useState)({skills:["None"],about:""}),a=Object(r.a)(t,2),c=a[0],s=a[1],m=Object(o.f)(),u={email:e.currentUser.email};return n.a.createElement("div",{className:"UserForm"},n.a.createElement("label",{className:"label is-large"},"Post your Add as a Student:"),n.a.createElement(j,{getSkills:function(e){var t=e;s(Object(E.a)(Object(E.a)({},c),{},{skills:t}))}}),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("div",{className:"field"},n.a.createElement("label",{className:"label"},"About"),n.a.createElement("div",{className:"control"},n.a.createElement("input",{className:"input",type:"text",onChange:function(e){var t=e.target,a=t.name,l=t.value;s(Object(E.a)(Object(E.a)({},c),{},Object(d.a)({},a,l)))},name:"about",value:c.about,placeholder:"About"}))),n.a.createElement("div",{className:"field is-grouped"},n.a.createElement("div",{className:"control"},n.a.createElement("button",{className:"button is-link",onClick:function(t){t.preventDefault(),p.deleteCurrentPost().then((function(t){p.createStudentPost(c).then((function(t){console.log(t),s({about:""}),p.deleteStudentSkills().then((function(t){p.saveStudentSkills(c.skills).then((function(t){p.login(u).then((function(t){console.log(t.data),e.submitHandler(t.data),m.push("/profile")}))})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)})),p.getTeacherMatch({skills:c.skills.join(",")}).then((function(t){console.log("MATCH RESULT STUDENT SKILLS FOR TEACHERS: ",t.data),e.passTeachers(t.data)})).catch((function(e){console.log(e)}))}},"Submit")),n.a.createElement("div",{className:"control"},n.a.createElement("button",{className:"button is-link is-light"},n.a.createElement(i.b,{to:"/profile"},"Cancel")))))}a(66);function C(e){var t=Object(l.useState)({skills:["None"],about:"",YearsofExperience:""}),a=Object(r.a)(t,2),c=a[0],s=a[1],m=Object(o.f)(),u={email:e.currentUser.email},h=function(e){var t=e.target,a=t.name,l=t.value;s(Object(E.a)(Object(E.a)({},c),{},Object(d.a)({},a,l)))};return n.a.createElement("div",null,n.a.createElement("div",{className:"UserForm"},n.a.createElement("label",{className:"label is-large"},"Post your Add as a Teacher:"),n.a.createElement(j,{getSkills:function(e){s({skills:e})}}),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("div",{className:"field"},n.a.createElement("label",{className:"label"},"About"),n.a.createElement("div",{className:"control"},n.a.createElement("input",{className:"input",type:"text",onChange:h,name:"about",value:c.about||"",placeholder:"About"}))),n.a.createElement("div",{className:"field"},n.a.createElement("label",{className:"label"},"YearsofExperience"),n.a.createElement("div",{className:"control"},n.a.createElement("input",{className:"input",type:"text",onChange:h,name:"YearsofExperience",value:c.YearsofExperience||"",placeholder:"YearsofExperience"}))),n.a.createElement("div",{className:"field is-grouped"},n.a.createElement("div",{className:"control"},n.a.createElement("button",{className:"button is-link",onClick:function(t){t.preventDefault(),console.log("inside the handleformsubmit"),console.log(c),p.deleteTeacherCurrentPost().then((function(t){console.log("PreviousPostDeleted: "+t),p.createTeacherPost(c).then((function(t){console.log(t),s({about:"",YearsofExperience:""}),p.deleteTeacherSkills().then((function(t){console.log("Skills deleted from current User: ",t),p.saveTeacherSkills(c.skills).then((function(t){console.log("Skills saved to current User: ",t),p.login(u).then((function(t){console.log(t.data),e.submitHandler(t.data),p.getStudentMatch({skills:c.skills.join(",")}).then((function(t){console.log("MATCH RESULT STUDENT SKILLS FOR STUDENTS: ",t.data),e.passStudents(t.data),m.push("/profile")})).catch((function(e){console.log(e)}))}))})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))}},"Submit")),n.a.createElement("div",{className:"control"},n.a.createElement("button",{className:"button is-link is-light"},n.a.createElement(i.b,{to:"/profile"},"Cancel"))))))}a(67);function U(e){var t=Object(o.g)(),a=Object(o.f)();return n.a.createElement("nav",{className:"navbar",role:"navigation","aria-label":"main navigation"},n.a.createElement("div",{id:"navbarBasicExample",className:"navbar-menu"},n.a.createElement("div",{className:"navbar-start"},n.a.createElement(i.b,{className:"navbar-item",to:"/"},"Home"),n.a.createElement("div",{className:"navbar-item"},n.a.createElement("a",{href:"/about"},"About"))),n.a.createElement("div",{className:"navbar-end"},n.a.createElement("div",{className:"navbar-item"},n.a.createElement("div",{className:"buttons"},e.currentUser||"/signup"===t.pathname?"":n.a.createElement(i.b,{className:"button is-primary",to:"/signup"},n.a.createElement("strong",null,"Sign up")),e.currentUser||"/login"===t.pathname?"":n.a.createElement(i.b,{className:"button is-light",to:"/login"},"Log In"),e.currentUser?n.a.createElement("button",{className:"button is-light",onClick:function(t){p.logout().then((function(t){e.logoutHandle(),a.push("/")}))}},"Log Out"):"")))))}var w=function(){var e=Object(l.useState)(!1),t=Object(r.a)(e,2),a=t[0],c=t[1],s=Object(l.useState)(!1),m=Object(r.a)(s,2),d=m[0],E=m[1],h=Object(l.useState)(!1),b=Object(r.a)(h,2),f=b[0],v=b[1];Object(l.useEffect)((function(){p.readSessions().then((function(e){if(e.data.user){if(c(e.data.user),e.data.user.StudentSkills){var t=[];e.data.user.StudentSkills.forEach((function(e){t.push(e.skill)})),p.getTeacherMatch({skills:t.join(",")}).then((function(e){O(e.data)})).catch((function(e){console.log(e)}))}if(e.data.user.TeacherSkills){var a=[];e.data.user.TeacherSkills.forEach((function(e){a.push(e.skill)})),p.getStudentMatch({skills:a.join(",")}).then((function(e){g(e.data)})).catch((function(e){console.log(e)}))}}else c(!1)}))}),[]);var g=function(e){E(e)},O=function(e){v(e)},j=function(e){c(e)};return n.a.createElement(i.a,null,n.a.createElement("div",{className:"container is-fluid"},n.a.createElement("div",{className:"notification"},n.a.createElement(U,{currentUser:a,logoutHandle:function(){c(!1)}}),n.a.createElement(o.c,null,n.a.createElement(o.a,{exact:!0,path:"/"},n.a.createElement(u,null)),n.a.createElement(o.a,{exact:!0,path:"/signup"},n.a.createElement(N,{submitHandler:j})),n.a.createElement(o.a,{exact:!0,path:"/profile"},n.a.createElement(S,{currentUser:a,studentsearch:d,teachersearch:f})),n.a.createElement(o.a,{exact:!0,path:"/login"},n.a.createElement(k,{submitHandler:j,passStudents:g,passTeachers:O})),n.a.createElement(o.a,{exact:!0,path:"/newpost"},n.a.createElement(T,{currentUser:a,submitHandler:j,passTeachers:O})),n.a.createElement(o.a,{exact:!0,path:"/newTeacherPost"},n.a.createElement(C,{currentUser:a,submitHandler:j,passStudents:g}))))))};s.a.render(n.a.createElement(w,null),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.d6f49fcb.chunk.js.map